<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Panel de Administraci√≥n</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
      rel="stylesheet"
    />
    <!-- Toastify CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css"
    />
    <link rel="stylesheet" href="../css/stylesAdmin.css" />
  </head>
  <body>
    <header>
      <img id="logo-image" src="" alt="Vista previa del logo" />
      <h1>Panel de Administraci√≥n</h1>
      <button id="logout-btn" class="btn">
        <i class="fas fa-sign-out-alt fa-2x"></i>
      </button>
      <span id="employee-name">Sesion: </span>
    </header>
    <!-- Navegaci√≥n de pesta√±as -->
    <div class="container mt-4">
      <ul class="nav nav-tabs" id="admin-tabs" role="tablist">
        <li class="nav-item">
          <button
            class="nav-link active"
            id="clients-tab"
            data-bs-toggle="tab"
            data-bs-target="#clients"
            type="button"
            role="tab"
            aria-controls="clients"
            aria-selected="true"
          >
            Clientes
          </button>
        </li>
        <li class="nav-item">
          <button
            class="nav-link"
            id="employees-tab"
            data-bs-toggle="tab"
            data-bs-target="#employees"
            type="button"
            role="tab"
            aria-controls="employees"
            aria-selected="false"
          >
            Empleados
          </button>
        </li>
        <li class="nav-item">
          <button
            class="nav-link"
            id="ingredients-tab"
            data-bs-toggle="tab"
            data-bs-target="#ingredients"
            type="button"
            role="tab"
            aria-controls="ingredients"
            aria-selected="false"
          >
            Ingrediente
          </button>
        </li>
        <li class="nav-item">
          <button
            class="nav-link"
            id="products-tab"
            data-bs-toggle="tab"
            data-bs-target="#products"
            type="button"
            role="tab"
            aria-controls="products"
            aria-selected="false"
          >
            Productos
          </button>
        </li>
        <li class="nav-item">
          <button
            class="nav-link"
            id="categorias-tab"
            data-bs-toggle="tab"
            data-bs-target="#categorias"
            type="button"
            role="tab"
            aria-controls="categorias"
            aria-selected="false"
          >
            Categorias
          </button>
        </li>
        <li class="nav-item">
          <button
            class="nav-link"
            id="promotion-recommendations"
            data-bs-toggle="tab"
            data-bs-target="#promo-recommendations"
            type="button"
            role="tab"
            aria-controls="promo-recommendations"
            aria-selected="false"
          >
            Promociones
          </button>
        </li>
        <!-- Bot√≥n para inventario -->
        <li class="nav-item">
          <button
            class="nav-link"
            id="inventario-tab"
            data-bs-toggle="tab"
            data-bs-target="#inventario"
            type="button"
            role="tab"
            aria-controls="Inventario"
            aria-selected="false"
          >
            Inventario
          </button>
        </li>
        <!-- Bot√≥n para estad√≠sticas -->
        <li class="nav-item">
          <button
            class="nav-link"
            id="sales-stats"
            data-bs-toggle="tab"
            data-bs-target="#sales-stats-content"
            type="button"
            role="tab"
            aria-controls="sales-stats-content"
            aria-selected="false"
          >
            Estad√≠sticas
          </button>
        </li>
        <li class="nav-item">
          <button
            class="nav-link"
            id="settings-tab"
            data-bs-toggle="tab"
            data-bs-target="#settings"
            type="button"
            role="tab"
            aria-controls="settings"
            aria-selected="false"
          >
            Configuraciones
          </button>
        </li>
      </ul>

      <div class="tab-content" id="admin-tabs-content">
        <!-- Clientes -->
        <div
          class="tab-pane fade show active"
          id="clients"
          role="tabpanel"
          aria-labelledby="clients-tab"
        >
          <h2>Gesti√≥n de Clientes</h2>
          <h2>Estamos trabajando üèóüößüë∑‚Äç‚ôÇÔ∏è</h2>
          <button class="btn btn-primary mb-3">Agregar Cliente</button>
          <table class="table">
            <thead>
              <tr>
                <th>Nombre</th>
                <th>Email</th>
                <th>Tel√©fono</th>
                <th>Acciones</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Juan P√©rez</td>
                <td>juan@example.com</td>
                <td>555-1234</td>
                <td>
                  <button class="btn btn-sm btn-warning">Editar</button>
                  <button class="btn btn-sm btn-danger">Eliminar</button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Empleados -->
        <div
          class="tab-pane fade"
          id="employees"
          role="tabpanel"
          aria-labelledby="employees-tab"
        >
          <h2>Gesti√≥n de Empleados</h2>
          <button class="btn btn-primary mb-3" id="btn-agregar-empleado">
            Agregar Empleado
          </button>
          <!-- Modal para Agregar/Editar Empleado -->
          <div
            class="modal fade"
            id="empleadoModal"
            tabindex="-1"
            aria-labelledby="empleadoModalLabel"
            aria-hidden="true"
          >
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="empleadoModalLabel">
                    Agregar Empleado
                  </h5>
                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Close"
                  ></button>
                </div>
                <div class="modal-body">
                  <!-- Formulario de empleado -->
                  <form id="form-empleado">
                    <div class="mb-3">
                      <label for="empleado-nombre">Nombre</label>
                      <input
                        type="text"
                        class="form-control"
                        id="empleado-nombre"
                        required
                      />
                    </div>
                    <div class="mb-3">
                      <label for="empleado-email">Email</label>
                      <input
                        type="email"
                        class="form-control"
                        id="empleado-email"
                        required
                      />
                    </div>
                    <div class="mb-3">
                      <label for="empleado-telefono">Tel√©fono</label>
                      <input
                        type="text"
                        class="form-control"
                        id="empleado-telefono"
                        required
                      />
                    </div>
                    <div class="mb-3">
                      <label for="empleado-genero">G√©nero</label>
                      <select class="form-control" id="empleado-genero">
                        <option value="Masculino">Masculino</option>
                        <option value="Femenino">Femenino</option>
                        <option value="Otro">Otro</option>
                      </select>
                    </div>
                    <div class="mb-3">
                      <label for="empleado-fecha">Fecha de Nacimiento</label>
                      <input
                        type="date"
                        class="form-control"
                        id="empleado-fecha"
                        required
                      />
                    </div>
                    <div class="mb-3">
                      <label for="empleado-puesto">Puesto</label>
                      <select class="form-control" id="empleado-puesto">
                        <option value="cajero">Cajero</option>
                        <option value="empacador">Empacador</option>
                        <option value="admin">Administrador</option>
                      </select>
                    </div>
                    <button type="submit" class="btn btn-success">
                      Guardar Empleado
                    </button>
                  </form>
                </div>
              </div>
            </div>
          </div>
          <!-- Contenedor para los botones de eliminar y editar cantidad -->
          <div class="button-container">
            <!-- Bot√≥n de eliminar (bote de basura) -->
            <div id="delete-employee-btn" class="button-delete">
              <i class="fa-solid fa-trash"></i>
            </div>
            <!-- Bot√≥n de actualizar cantidad (l√°piz) -->
            <div id="edit-employee-btn" class="button-edit">
              <i class="fa-regular fa-pen-to-square"></i>
            </div>
          </div>
          <table class="table" id="tabla-empleados">
            <thead>
              <tr>
                <th>Nombre</th>
                <th>Fecha Nacimiento</th>
                <th>Puesto</th>
                <th>Email</th>
                <th>Tel√©fono</th>
                <th>Registrado por</th>
                <th>Fecha Registro</th>
              </tr>
            </thead>
            <tbody>
              <!-- üìå Aqu√≠ se insertar√°n din√°micamente los empleados -->
            </tbody>
          </table>
          <!-- Modal de Confirmaci√≥n de Eliminaci√≥n -->
          <div
            class="modal fade"
            id="deleteEmpleadoModal"
            tabindex="-1"
            aria-labelledby="deleteEmpleadoModalLabel"
            aria-hidden="true"
          >
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="deleteEmpleadoModalLabel">
                    Confirmar Eliminaci√≥n
                  </h5>
                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Close"
                  ></button>
                </div>
                <div class="modal-body">
                  ‚ö†Ô∏è ¬øEst√°s seguro de que deseas eliminar este empleado? Esta
                  acci√≥n es irreversible.
                </div>
                <div class="modal-footer">
                  <button
                    type="button"
                    class="btn btn-secondary"
                    data-bs-dismiss="modal"
                  >
                    Cancelar
                  </button>
                  <button
                    type="button"
                    class="btn btn-danger"
                    id="confirm-delete-btn-empleado"
                  >
                    Eliminar
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Gesti√≥n de Ingredientes -->
        <div
          class="tab-pane fade"
          id="ingredients"
          role="tabpanel"
          aria-labelledby="ingredients-tab"
        >
          <h2>Cat√°logo de Ingredientes</h2>
          <button class="btn btn-primary mb-3" id="btn-agregar-ingrediente">
            Agregar Ingrediente
          </button>
          <!-- Modal para agregar o editar ingrediente -->
          <div
            class="modal fade"
            id="ingredientModal"
            tabindex="-1"
            aria-labelledby="ingredientModalLabel"
            aria-hidden="true"
          >
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="ingredientModalLabel">
                    Agregar Ingrediente
                  </h5>
                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Close"
                  ></button>
                </div>
                <!-- Modal para agregar/editar ingrediente -->
                <div class="modal-body">
                  <form id="ingredient-form">
                    <div class="form-section">
                      <label for="ingredient-name"
                        >Nombre del Ingrediente:</label
                      >
                      <input
                        type="text"
                        id="ingredient-name"
                        class="form-control"
                        placeholder="Nombre del Ingrediente"
                        required
                      />
                    </div>
                    <div class="form-section">
                      <label for="ingredient-measure">Tipo de Medida:</label>
                      <select
                        id="ingredient-measure"
                        class="form-control"
                        required
                      >
                        <option value="pz">Piezas</option>
                        <option value="kg">Kilogramos</option>
                        <option value="gr">Gramos</option>
                        <option value="lt">Litros</option>
                        <option value="ml">Mililitros</option>
                        <option value="otra">Otra</option>
                      </select>
                    </div>
                    <div class="form-section">
                      <label for="ingredient-stock">Cantidad:</label>
                      <input
                        type="number"
                        id="ingredient-stock"
                        class="form-control"
                        placeholder="Cantidad disponible"
                        min="0"
                        required
                      />
                    </div>
                    <!-- Radio Buttons para elegir Precio Unitario o Precio Total -->
                    <div class="form-section">
                      <label for="price-selection"
                        >Selecciona el tipo de precio:</label
                      >
                      <div>
                        <input
                          type="radio"
                          id="price-unit"
                          name="price-type"
                          value="unitario"
                          checked
                        />
                        Precio Unitario
                        <input
                          type="radio"
                          id="price-total"
                          name="price-type"
                          value="total"
                        />
                        Precio Total
                      </div>
                    </div>
                    <!-- Precio Unitario Inputs -->
                    <div id="unitario-fields" style="display: block">
                      <label for="ingredient-price">Precio Unitario</label>
                      <input
                        type="number"
                        id="ingredient-price"
                        class="form-control"
                        step="0.01"
                        min="0"
                      />

                      <label for="cantidad-unitario">Cantidad Unitario</label>
                      <input
                        type="number"
                        id="cantidad-unitario"
                        class="form-control"
                      />

                      <label for="medida-unitario">Medida</label>
                      <select id="medida-unitario" class="form-control">
                        <option value="pz">Piezas</option>
                        <option value="kg">Kilogramos</option>
                        <option value="gr">Gramos</option>
                        <option value="lt">Litros</option>
                        <option value="ml">Mililitros</option>
                        <option value="otra">Otra</option>
                      </select>

                      <span id="calculated-price-total"></span>
                      <!-- Display price total here -->
                    </div>

                    <!-- Precio Total Input -->
                    <div id="total-fields" style="display: none">
                      <label for="ingredient-price-total">Precio Total</label>
                      <input
                        type="number"
                        id="ingredient-price-total"
                        class="form-control"
                        step="0.01"
                        min="0"
                        value="0"
                      />
                    </div>
                    <button
                      type="submit"
                      class="btn btn-success"
                      id="save-ingredient-btn"
                    >
                      Guardar Ingrediente
                    </button>
                  </form>
                </div>
              </div>
            </div>
          </div>
          <!-- Contenedor para los botones de eliminar y editar cantidad -->
          <div class="button-container">
            <!-- Bot√≥n de eliminar (bote de basura) -->
            <div id="delete-btn" class="button-delete">
              <i class="fa-solid fa-trash"></i>
            </div>
            <!-- Bot√≥n de actualizar cantidad (l√°piz) -->
            <div id="edit-cuantity-modal-btn" class="button-edit">
              <i class="fa-regular fa-pen-to-square"></i>
            </div>
          </div>
          <table id="ingredient-table" class="table">
            <thead>
              <tr>
                <th>Nombre</th>
                <th>Precio Total x Medida</th>
                <!--    <th>Precio x Medida</th> -->
                <th>Fecha Registro</th>
              </tr>
            </thead>
            <tbody id="ingredients-list">
              <!-- Lista din√°mica de ingredientes -->
            </tbody>
          </table>
          <!-- Modal de Confirmaci√≥n de Eliminaci√≥n de ingrediente-->
          <div
            class="modal fade"
            id="deleteIngredientModal"
            tabindex="-1"
            aria-labelledby="deleteIngredientModalLabel"
            aria-hidden="true"
          >
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="deleteIngredientModalLabel">
                    Confirmar Eliminaci√≥n
                  </h5>
                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Close"
                  ></button>
                </div>
                <div class="modal-body">
                  <p>
                    ‚ö†Ô∏è ¬øEst√°s seguro de que deseas eliminar este ingrediente?
                    Esta acci√≥n es irreversible.
                  </p>
                </div>
                <div class="modal-footer">
                  <button
                    type="button"
                    class="btn btn-secondary"
                    data-bs-dismiss="modal"
                  >
                    Cancelar
                  </button>
                  <button
                    type="button"
                    class="btn btn-danger"
                    id="confirm-delete-btn"
                  >
                    Eliminar
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Gesti√≥n de Productos -->
        <div
          class="tab-pane fade"
          id="products"
          role="tabpanel"
          aria-labelledby="products-tab"
        >
          <h2>Cat√°logo de Productos</h2>
          <button class="btn btn-primary mb-3" id="btn-agregar-producto">
            Agregar Producto
          </button>
          <!-- Modal para agregar/editar producto -->
          <div
            class="modal fade"
            id="productModal"
            tabindex="-1"
            aria-labelledby="productModalLabel"
            aria-hidden="false"
          >
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="productModalLabel">
                    Agregar Producto
                  </h5>
                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Cerrar"
                  ></button>
                </div>
                <div class="modal-body">
                  <form id="product-form">
                    <div class="form-section">
                      <label for="product-name">Nombre del Producto:</label>
                      <input
                        type="text"
                        id="product-name"
                        class="form-control"
                        placeholder="Nombre del Producto"
                        required
                      />
                    </div>
                    <div class="form-section">
                      <label for="product-image">Imagen del Producto:</label>
                      <input
                        type="file"
                        id="product-image"
                        class="form-control"
                        accept="image/*"
                      />
                      <small class="text-muted"
                        >Formatos aceptados: JPG, PNG, GIF (M√°x. 2MB)</small
                      >
                      <div class="mt-2">
                        <img
                          id="product-image-preview"
                          src="#"
                          alt="Vista previa"
                          class="preview-image"
                        />
                      </div>
                    </div>
                    <div class="form-section">
                      <label for="product-category">Categor√≠a:</label>
                      <select
                        id="product-category"
                        class="form-control"
                        required
                      >
                        <!-- Las categor√≠as se llenar√°n aqu√≠ din√°micamente -->
                      </select>
                    </div>
                    <div class="form-section">
                      <label for="product-price">Precio:</label>
                      <input
                        type="number"
                        step="0.01"
                        min="0"
                        id="product-price"
                        class="form-control"
                        placeholder="Precio del Producto"
                        required
                      />
                    </div>
                    <div class="form-section">
                      <label for="product-stock">Stock:</label>
                      <input
                        type="number"
                        id="product-stock"
                        class="form-control"
                        placeholder="Cantidad en Inventario"
                        required
                      />
                    </div>
                    <div class="form-section">
                      <label for="product-ingredients"
                        >Seleccionar Ingredientes:</label
                      >
                      <div id="product-ingredients">
                        <!-- Los ingredientes se generar√°n din√°micamente aqu√≠ -->
                      </div>
                    </div>
                    <!-- Lista de ingredientes seleccionados -->
                    <div
                      id="selected-ingredients-list"
                      class="form-section"
                    ></div>
                    <button
                      type="submit"
                      class="btn btn-success"
                      id="product-form-submit"
                    >
                      Guardar Producto
                    </button>
                  </form>
                </div>
              </div>
            </div>
          </div>
          <!-- Modal de Confirmaci√≥n de Eliminaci√≥n -->
          <div
            class="modal fade"
            id="deleteProductModal"
            tabindex="-1"
            aria-labelledby="deleteProductModalLabel"
            aria-hidden="true"
          >
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="deleteProductModalLabel">
                    Confirmar Eliminaci√≥n
                  </h5>
                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Close"
                  ></button>
                </div>
                <div class="modal-body">
                  ‚ö†Ô∏è ¬øEst√°s seguro de que deseas eliminar este producto? Esta
                  acci√≥n es irreversible.
                </div>
                <div class="modal-footer">
                  <button
                    type="button"
                    class="btn btn-secondary"
                    data-bs-dismiss="modal"
                  >
                    Cancelar
                  </button>
                  <button
                    type="button"
                    class="btn btn-danger"
                    id="confirm-delete-btn-producto"
                  >
                    Eliminar
                  </button>
                </div>
              </div>
            </div>
          </div>
          <!-- Contenedor para los botones de eliminar y editar cantidad -->
          <div class="button-container">
            <!-- Bot√≥n de eliminar (bote de basura) -->
            <div id="delete-product-btn" class="button-delete">
              <i class="fa-solid fa-trash"></i>
            </div>
            <!-- Bot√≥n de actualizar cantidad (l√°piz) -->
            <div id="edit-product-btn" class="button-edit">
              <i class="fa-regular fa-pen-to-square"></i>
            </div>
          </div>
          <table class="table">
            <thead>
              <tr>
                <th>Imagen</th>
                <th>Nombre</th>
                <th>Categor√≠a</th>
                <th>Precio</th>
                <th>Cantidad</th>
                <th>Ingredientes, Cantidades y Precio</th>
                <th>Costo Unitario</th>
                <th>Costo Total</th>
                <th>Fecha Registro</th>
              </tr>
            </thead>
            <tbody id="products-list">
              <!-- Los productos se cargar√°n aqu√≠ din√°micamente -->
            </tbody>
          </table>
        </div>

        <!-- Categor√≠as -->
        <div
          class="tab-pane fade"
          id="categorias"
          role="tabpanel"
          aria-labelledby="settings-tab"
        >
          <h2>Configuraci√≥n de Categor√≠as</h2>

          <!-- Bot√≥n para agregar una categor√≠a -->
          <button class="btn btn-primary mb-3" id="btn-agregar-categoria">
            Agregar Categor√≠a
          </button>

          <!-- Modal para agregar/editar categor√≠a -->
          <div
            class="modal fade"
            id="categoriaModal"
            tabindex="-1"
            aria-labelledby="categoriaModalLabel"
            aria-hidden="true"
          >
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="categoriaModalLabel">
                    Agregar Categor√≠a
                  </h5>
                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Close"
                  ></button>
                </div>
                <div class="modal-body">
                  <form id="form-categoria">
                    <div class="mb-3">
                      <label for="categoria-nombre" class="form-label"
                        >Nombre de la Categor√≠a</label
                      >
                      <input
                        type="text"
                        class="form-control"
                        id="categoria-nombre"
                        required
                      />
                    </div>
                    <button type="submit" class="btn btn-success">
                      Guardar Categor√≠a
                    </button>
                  </form>
                </div>
              </div>
            </div>
          </div>
          <!-- Contenedor para los botones de eliminar y editar cantidad -->
          <div class="button-container">
            <!-- Bot√≥n de eliminar (bote de basura) -->
            <div id="delete-category-btn" class="button-delete">
              <i class="fa-solid fa-trash"></i>
            </div>
            <!-- Bot√≥n de actualizar cantidad (l√°piz) -->
            <div id="edit-category-btn" class="button-edit">
              <i class="fa-regular fa-pen-to-square"></i>
            </div>
          </div>
          <table class="table" id="tabla-categorias">
            <thead>
              <tr>
                <th>Orden</th>
                <th>Nombre</th>
              </tr>
            </thead>
            <tbody id="categorias-container">
              <!-- Aqu√≠ se cargar√°n din√°micamente las categor√≠as -->
            </tbody>
          </table>
          <!-- Modal de confirmaci√≥n para eliminar (a√±adir al final del body) -->
          <div
            class="modal fade"
            id="deleteCategoryModal"
            tabindex="-1"
            aria-hidden="true"
          >
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">Confirmar Eliminaci√≥n</h5>
                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Close"
                  ></button>
                </div>
                <div class="modal-body">
                  <!-- El contenido se llena din√°micamente -->
                </div>
                <div class="modal-footer">
                  <button
                    type="button"
                    class="btn btn-secondary"
                    data-bs-dismiss="modal"
                  >
                    Cancelar
                  </button>
                  <button
                    type="button"
                    class="btn btn-danger"
                    id="confirm-delete-btn-categoria"
                  >
                    Eliminar
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Promociones Tab -->
        <div
          class="tab-pane fade"
          id="promo-recommendations"
          role="tabpanel"
          aria-labelledby="promotion-recommendations"
        >
          <div class="container mt-4">
            <!-- Botones superiores -->
            <div class="d-flex justify-content-between mb-4">
              <button
                class="btn btn-primary"
                data-bs-toggle="modal"
                data-bs-target="#sugerenciaModal"
              >
                <i class="fas fa-lightbulb me-2"></i>Crear Sugerencia
              </button>
              <button
                class="btn btn-primary"
                data-bs-toggle="modal"
                data-bs-target="#promocionModal"
              >
                <i class="fas fa-tag me-2"></i>Crear Promoci√≥n
              </button>
            </div>

            <!-- Listado de promociones activas -->
            <div class="card">
              <div class="card-header table-card-title">
                <h3 class="mb-0">Promociones Activas</h3>
              </div>
              <div class="card-body">
                <ul id="promociones-activas" class="list-group">
                  <!-- Aqui aparecen de forma dinamica las promociones-->
                </ul>
              </div>
            </div>
          </div>
          <!-- Modal para Crear Sugerencia -->
          <div
            class="modal fade"
            id="sugerenciaModal"
            tabindex="-1"
            aria-labelledby="sugerenciaModalLabel"
            aria-hidden="true"
          >
            <div class="modal-dialog modal-lg">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="sugerenciaModalLabel">
                    Crear Nueva Sugerencia
                  </h5>
                  <button
                    type="button"
                    class="btn-close btn-close-white"
                    data-bs-dismiss="modal"
                    aria-label="Close"
                  ></button>
                </div>
                <div class="modal-body">
                  <form id="sugerencia-form">
                    <div class="mb-3">
                      <label for="sugerencia-descripcion" class="form-label"
                        >Descripci√≥n de la Sugerencia</label
                      >
                      <textarea
                        class="form-control"
                        id="sugerencia-descripcion"
                        rows="3"
                        required
                      ></textarea>
                    </div>
                    <div class="mb-3">
                      <label for="sugerencia-tipo" class="form-label"
                        >Tipo de Promoci√≥n</label
                      >
                      <select class="form-select" id="sugerencia-tipo" required>
                        <option value="" disabled selected>
                          Selecciona un tipo
                        </option>
                        <option value="bogo">2x1</option>
                        <option value="descuento">Descuento</option>
                        <option value="combo">Combo</option>
                      </select>
                    </div>
                    <div class="mb-3">
                      <label for="sugerencia-productos" class="form-label"
                        >Productos Relacionados</label
                      >
                      <select
                        multiple
                        class="form-select"
                        id="sugerencia-productos"
                      >
                        <option value="1">Dona de Chocolate</option>
                        <option value="2">Concha de Vainilla</option>
                        <option value="3">Bolillo</option>
                        <option value="4">Pastel de Tres Leches</option>
                      </select>
                      <small class="text-muted"
                        >Mant√©n presionado Ctrl (o Cmd en Mac) para seleccionar
                        m√∫ltiples</small
                      >
                    </div>
                    <div class="text-end">
                      <button
                        type="button"
                        class="btn btn-secondary me-2"
                        data-bs-dismiss="modal"
                      >
                        Cancelar
                      </button>
                      <button type="submit" class="btn btn-primary">
                        Guardar Sugerencia
                      </button>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
          <!-- Modal para Crear Promoci√≥n -->
          <div
            class="modal fade"
            id="promocionModal"
            tabindex="-1"
            aria-labelledby="promocionModalLabel"
            aria-hidden="true"
          >
            <div class="modal-dialog modal-lg">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="promocionModalLabel">
                    Crear Nueva Promoci√≥n
                  </h5>
                  <button
                    type="button"
                    class="btn-close btn-close-white"
                    data-bs-dismiss="modal"
                    aria-label="Close"
                  ></button>
                </div>
                <div class="modal-body">
                  <form id="create-promotion-form">
                    <div class="mb-3">
                      <label for="promotion-name" class="form-label"
                        >Nombre de la Promoci√≥n</label
                      >
                      <input
                        type="text"
                        class="form-control"
                        id="promotion-name"
                        placeholder="Ejemplo: Descuento de Verano"
                        required
                      />
                    </div>
                    <div class="mb-3">
                      <label for="promotion-image" class="form-label"
                        >Imagen de la Promoci√≥n</label
                      >
                      <input
                        type="file"
                        class="form-control"
                        id="promotion-image"
                        accept="image/*"
                        required
                      />
                      <small class="text-muted"
                        >Formatos aceptados: JPG, PNG, GIF (M√°x. 2MB)</small
                      >
                      <div class="mt-2">
                        <img
                          id="promotion-image-preview"
                          src="#"
                          alt="Vista previa de imagen"
                          class="preview-image"
                        />
                      </div>
                    </div>
                    <div class="mb-3">
                      <label for="promotion-discount-type" class="form-label"
                        >Tipo de Descuento</label
                      >
                      <select
                        class="form-select"
                        id="promotion-discount-type"
                        onchange="updateDiscountOptions()"
                        required
                      >
                        <option value="" disabled selected>
                          Selecciona el tipo de descuento
                        </option>
                        <option value="percentage">
                          Porcentaje de descuento
                        </option>
                        <option value="buy-get">
                          Compra tal y ll√©vate tal
                        </option>
                        <option value="bogo">2x1</option>
                        <option value="threshold">
                          Porcentaje de descuento en compras mayores
                        </option>
                      </select>
                    </div>
                    <div class="mb-3 row">
                      <div class="col-sm-6 mb-2 mb-sm-0">
                        <label for="promotion-inicio" class="form-label"
                          >Fecha de Inicio</label
                        >
                        <input
                          type="date"
                          class="form-control"
                          id="promotion-inicio"
                        />
                      </div>
                      <div class="col-sm-6">
                        <label for="promotion-fin" class="form-label"
                          >Fecha de Fin</label
                        >
                        <input
                          type="date"
                          class="form-control"
                          id="promotion-fin"
                        />
                      </div>
                    </div>
                    <div id="products-list-promotion" class="mb-3">
                      <label for="promotion-products" class="form-label"
                        >Productos</label
                      >
                      <select
                        multiple
                        class="form-select"
                        id="promotion-products"
                        required
                      >
                        <option value="1">Dona de Chocolate</option>
                        <option value="2">Concha de Vainilla</option>
                        <option value="3">Bolillo</option>
                        <option value="4">Pastel de Tres Leches</option>
                      </select>
                      <small class="text-muted"
                        >Mant√©n presionado Ctrl (o Cmd en Mac) para seleccionar
                        m√∫ltiples</small
                      >
                    </div>

                    <!-- Configuraciones espec√≠ficas (igual que antes) -->
                    <div id="discount-configurations">
                      <div
                        id="percentage-config"
                        class="discount-option d-none"
                      >
                        <label for="percentage-value" class="form-label"
                          >Porcentaje de Descuento (%)</label
                        >
                        <input
                          type="number"
                          class="form-control"
                          id="percentage-value"
                          placeholder="Ejemplo: 20"
                        />
                      </div>

                      <div id="buy-get-config" class="discount-option d-none">
                        <label for="buy-quantity" class="form-label"
                          >Cantidad a Comprar</label
                        >
                        <input
                          type="number"
                          class="form-control"
                          id="buy-quantity"
                          placeholder="Ejemplo: 3"
                        />
                        <label for="get-quantity" class="form-label mt-2"
                          >Cantidad a Llevar Gratis</label
                        >
                        <input
                          type="number"
                          class="form-control"
                          id="get-quantity"
                          placeholder="Ejemplo: 1"
                        />
                      </div>

                      <div id="bogo-config" class="discount-option d-none">
                        <p class="form-text">
                          La promoci√≥n se aplicar√° autom√°ticamente al a√±adir
                          productos id√©nticos al carrito.
                        </p>
                      </div>

                      <div id="threshold-config" class="discount-option d-none">
                        <label for="threshold-value" class="form-label"
                          >Monto M√≠nimo de Compra</label
                        >
                        <input
                          type="number"
                          class="form-control"
                          id="threshold-value"
                          placeholder="Ejemplo: 100"
                        />
                        <label
                          for="threshold-percentage"
                          class="form-label mt-2"
                          >Porcentaje de Descuento (%)</label
                        >
                        <input
                          type="number"
                          class="form-control"
                          id="threshold-percentage"
                          placeholder="Ejemplo: 15"
                        />
                      </div>
                    </div>
                    <div class="text-end">
                      <button
                        type="button"
                        class="btn btn-secondary me-2"
                        data-bs-dismiss="modal"
                      >
                        Cancelar
                      </button>
                      <button type="submit" class="btn btn-success">
                        Crear Promoci√≥n
                      </button>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Secci√≥n de Inventario -->
        <div
          class="tab-pane fade"
          id="inventario"
          role="tabpanel"
          aria-labelledby="settings-tab"
        >
          <div class="container py-4">
            <h2 class="mb-4">üì¶ Gesti√≥n de Inventario</h2>

            <!-- Tabs internas -->
            <ul class="nav nav-tabs mb-4" id="inventoryTabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button
                  class="nav-link active"
                  id="ingredientes-tab"
                  data-bs-toggle="tab"
                  data-bs-target="#ingredientes"
                  type="button"
                  role="tab"
                >
                  üß™ Ingredientes
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button
                  class="nav-link"
                  id="productos-tab"
                  data-bs-toggle="tab"
                  data-bs-target="#productos"
                  type="button"
                  role="tab"
                >
                  ü•§ Productos
                </button>
              </li>
            </ul>

            <!-- Contenido de cada tab -->
            <div class="tab-content" id="inventoryTabsContent">
              <!-- TAB INGREDIENTES -->
              <!-- Contenido del tab de ingredientes -->
              <div
                class="tab-pane fade show active"
                id="ingredientes"
                role="tabpanel"
              >
                <div
                  class="d-flex justify-content-between align-items-center mb-3"
                >
                  <h4>
                    <i class="fa-solid fa-rectangle-list"></i> Inventario de Ingredientes
                  </h4>
                  <button
                    class="btn btn-primary"
                    onclick="abrirModalAgregarIngrediente()"
                  >
                    <i class="fas fa-plus-circle me-1"></i>Agregar Ingrediente
                  </button>
                </div>

                <!-- Filtros -->
                <div class="row g-3 mb-3">
                  <div class="col-md-4">
                    <label for="buscarIngrediente" class="form-label"
                      >Buscar</label
                    >
                    <input
                      type="text"
                      id="buscarIngrediente"
                      class="form-control"
                      placeholder="Ej. Az√∫car, Leche..."
                    />
                  </div>
                  <div class="col-md-4">
                    <label for="filtroUnidad" class="form-label">Medida</label>
                    <select id="filtroUnidad" class="form-select">
                      <option value="">Todas</option>
                      <option value="kg">Kilogramos</option>
                      <option value="L">Litros</option>
                      <option value="pza">Piezas</option>
                    </select>
                  </div>
                </div>

                <!-- Tabla -->
                <div class="table-responsive">
                  <table class="table table-bordered align-middle text-center">
                    <thead class="table-dark">
                      <tr>
                        <th><i class="fas fa-tag"></i> Nombre</th>
                        <th><i class="fas fa-weight"></i> Medida</th>
                        <th><i class="fas fa-boxes"></i> Stock actual</th>
                        <th><i class="fas fa-dollar-sign"></i> Precio total</th>
                        <th>
                          <i class="fas fa-ruler-combined"></i> Precio unitario
                        </th>
                        <th><i class="fas fa-history"></i> Historial</th>
                        <th><i class="fas fa-cogs"></i> Acciones</th>
                      </tr>
                    </thead>
                    <tbody id="tabla-ingredientes">
                      <!-- JS renderiza aqu√≠ -->
                    </tbody>
                  </table>
                </div>
              </div>

              <!-- TAB PRODUCTOS -->
              <div class="tab-pane fade" id="productos" role="tabpanel">
                <!-- Aqu√≠ va el control de inventario de productos (stock disponible, consumidos, etc.) -->
                <p>
                  ü•§ Aqu√≠ ir√° el control de inventario de los productos
                  terminados...
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- Estad√≠sticas de Ventas -->
        <div
          class="tab-pane fade"
          id="sales-stats-content"
          role="tabpanel"
          aria-labelledby="sales-stats"
        >
          <h2>Estad√≠sticas de Ventas</h2>
          <h2>Estamos trabajando üèóüößüë∑‚Äç‚ôÇÔ∏è</h2>
          <canvas id="sales-chart" width="400" height="200"></canvas>
          <div class="filters">
            <label for="stats-period">Periodo:</label>
            <select
              id="stats-period"
              class="form-control"
              onchange="updateSalesChart()"
            >
              <option value="daily">Diario</option>
              <option value="weekly">Semanal</option>
              <option value="monthly">Mensual</option>
            </select>
          </div>
        </div>

        <!-- Configuraciones -->
        <div
          class="tab-pane fade"
          id="settings"
          role="tabpanel"
          aria-labelledby="settings-tab"
        >
          <h2>Personalizaci√≥n del Sitio</h2>
          <form>
            <div class="form-section">
              <label for="site-name">Nombre del Sitio:</label>
              <input
                type="text"
                id="site-name"
                class="form-control"
                placeholder="Nombre de la p√°gina"
              />
            </div>
            <div class="form-section">
              <label for="site-logo">Logo del Sitio:</label>
              <input type="file" id="site-logo" class="form-control" />
            </div>
            <div class="form-section">
              <label for="primary-color">Color Primario:</label>
              <input type="color" id="primary-color" value="#6c1b2d" />
            </div>
            <button type="submit" class="btn btn-primary">
              Guardar Configuraci√≥n
            </button>
          </form>
        </div>
      </div>
    </div>

    <footer>
      <p id="footer-company-name"></p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Toastify JS -->
    <script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <!-- Importa tinycolor2 desde un CDN -->
    <script src="https://cdn.jsdelivr.net/npm/tinycolor2@1.4.2/dist/tinycolor-min.js"></script>

    <script type="module" src="../js/admin.js"></script>
  </body>
</html>
